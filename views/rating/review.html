{{response.files.append(URL(r=request,c='static',f='js/json2.js'))}}
{{response.files.append(URL(r=request,c='static',f='js/jquery-ui-1.9.2.custom.min.js'))}}
{{response.files.append(URL(r=request,c='static',f='css/jquery-ui-1.9.2.custom.css'))}}
{{extend 'layout.html'}}

<h2>Enter Review for: {{=review_name}}</h2>
<style type="text/css">
    #sortable { list-style-type: none; margin: 0; padding: 0; width: 60%; }
    #sortable li { margin: 0 3px 3px 3px; padding: 0.4em; padding-left: 1.5em; font-size: 1.4em; height: 18px; }
    #sortable li span { position: absolute; margin-left: -1.3em; }
</style>


<script type="text/javascript">
var submission_names = [];


var order_data = [ 12, 13, 14, 15 ];

$( document ).ready( function()
{
	$(function() 
	{
		$( "#item_list" ).sortable({
			update: function(event,ui)	
			{
				var new_order = $( "#item_list" ).sortable('toArray');
			
				var i = 0;
				var tmp = "";
				for ( var key in new_order ) 
				{
					var val = new_order[key];
					var part = val.split("_");
					
					//order_data[part[1]] = i;
					order_data[part[1]] = i;
					
					i++;
				}
				
				$( '#order' ).val( JSON.stringify( order_data ) );
				
			}
		} );
	} );
   
   
    $(function() {
        $( "#item_list" ).sortable();
        $( "#item_list" ).disableSelection();
    } );
} ); 
 </script>

<div class="alert alert-info"><i class="icon-info-sign"></i> Rank this item relative to items that you have previously reviewed by dragging and dropping each item into place. The best item should be first.</div>
<ol id="item_list">
    <li class="ui-state-default" id="item_12"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 1</li>
    <li class="ui-state-default" id="item_13"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 2</li>
    <li class="ui-state-default" id="item_14"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 3</li>
    <li class="ui-state-default" id="item_15"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 4</li>
    <li class="ui-state-default" id="item_16"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 5</li>
    <li class="ui-state-default" id="item_17"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 6</li>
    <li class="ui-state-default" id="item_18"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span>Item 7</li>
</ol>

{{=form}}